<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>客户端上传文件到七牛云</title>
</head>
<body>
<form>
    <input id="upload" placeholder="上传文件" type="file">
    <span onclick="upload()">上传</span>
    <script src="qiniu.min.js"></script>
</form>

<script>
    function upload(){
        const uploader = document.getElementById("upload")
        const file = uploader.files[0]
        const token = "icpkjf5foaz6wKxmUDGPLef6zSDnwKqqoybtIKeU:rGJScX3EuKR40mEe0BPATs0ldoM=:eyJkZWFkbGluZSI6MTc2NDg2MDY0Miwic2NvcGUiOiJ3dW5kZXJtaW5pYmFyIn0="

        const observer = {
            next(res){
                console.log("next",res)
            },
            error(err){
                console.log("error",err)
            },
            complete(res){
                console.log("complete",res)
            }
        }
        const config = {
            useCdnDomain: true,
            region: qiniu.region.z2
        }
        const putExtra = {

        }
        const observable = qiniu.upload(file, "blogx/client/xxx11.png", token, putExtra, config)
        const subscription = observable.subscribe(observer)
        console.log(subscription)
    }
</script>
</body>

</html>